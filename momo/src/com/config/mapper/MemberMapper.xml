<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.momo.MemberMapper">

	<!-- 로그인할 때 회원정보를 MemberDTO으로 반환해주는 쿼리 -->
   	<select id="loginCheck" parameterType="hashmap" resultType="MemberDTO">
		select * from member where id = #{id} and pwd=#{pwd}
   	</select>
   	
   	<!-- 회원가입할 때 아이디 중복검사를 하기 위한 쿼리 -->
   	<select id="idCheck" parameterType="string" resultType="int">
 		select count(*) from member where id = #{userid}
 	</select>
 	
 	<!-- 회원가입 쿼리 -->
 	<select id="addMember" parameterType="memberDTO"  >
		insert into member(mnum, name, id, pwd, pwd2, gender, tel, question, answer, post1, post2, addr1, addr2, joindate)
		values(member_seq.nextval, #{name}, #{id}, #{pwd}, #{pwd2}, #{gender}, #{tel}, #{question}, #{answer}, #{post1}, #{post2}, #{addr1}, #{addr2}, sysdate)
	</select>
	
	<!-- 아이디 찾기  -->
	<select id="FindMemberId" parameterType="hashmap" resultType="MemberDTO">
		select * from member where name=#{name} and question=#{question} and answer=#{answer}
   	</select>
   	
	<!-- 비밀번호 찾기 -->
	<select id="FindMemberPwd" parameterType="hashmap" resultType="MemberDTO">
		select * from member where id=#{userid} and question=#{question} and answer=#{answer} 
   	</select>

</mapper>